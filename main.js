/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/fireworks-js/dist/fireworks.js":
/*!*****************************************************!*\
  !*** ./node_modules/fireworks-js/dist/fireworks.js ***!
  \*****************************************************/
/***/ (function(module) {

eval("!function(t,i){if(true)module.exports=i();else { var s, e; }}(this,(function(){return function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var n in t)e.d(s,n,function(i){return t[i]}.bind(null,n));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=0)}([function(t,i,e){\"use strict\";e.r(i),e.d(i,\"Fireworks\",(function(){return l}));var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};function n(t,i,e,s){var n=Math.pow;return Math.sqrt(n(t-e,2)+n(i-s,2))}function h(t,i){return Math.random()*(i-t)+t}function r(t,i){return Math.floor(t+Math.random()*(i+1-t))}function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a=function(){function t(i,e,s,h,o,a,_,u,c){for(!function(t,i){if(!(t instanceof i))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._currentDistance=0,this._coordinates=[],this._x=i,this._y=e,this._sx=i,this._sy=e,this._dx=s,this._dy=h,this._ctx=o,this._hue=a,this._speed=_,this._acceleration=u,this._traceLength=c,this._totalDistance=n(this._sx,this._sy,this._dx,this._dy);this._traceLength--;)this._coordinates.push([i,e]);this._angle=Math.atan2(this._dy-this._sy,this._dx-this._sx),this._brightness=r(50,70)}var i,e,s;return i=t,(e=[{key:\"update\",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._acceleration;var i=Math.cos(this._angle)*this._speed,e=Math.sin(this._angle)*this._speed;this._currentDistance=n(this._sx,this._sy,this._x+i,this._y+e),this._currentDistance>=this._totalDistance?t(this._dx,this._dy,this._hue):(this._x+=i,this._y+=e)}},{key:\"draw\",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle=\"hsl(\"+this._hue+\", 100%, \"+this._brightness+\"%)\",this._ctx.stroke()}}])&&o(i.prototype,e),s&&o(i,s),t}();function _(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var u=function(){function t(i,e,s,n,o,a,_){for(!function(t,i){if(!(t instanceof i))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._coordinates=[],this._alpha=1,this._x=i,this._y=e,this._ctx=s,this._hue=n,this._friction=o,this._gravity=a,this._explosionLength=_;this._explosionLength--;)this._coordinates.push([i,e]);this._angle=h(0,2*Math.PI),this._speed=r(1,10),this._hue=r(this._hue-20,this._hue+20),this._brightness=r(50,80),this._decay=h(.015,.03)}var i,e,s;return i=t,(e=[{key:\"update\",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._friction,this._x+=Math.cos(this._angle)*this._speed,this._y+=Math.sin(this._angle)*this._speed+this._gravity,this._alpha-=this._decay,this._alpha<=this._decay&&t()}},{key:\"draw\",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle=\"hsla(\"+this._hue+\", 100%, \"+this._brightness+\"%, \"+this._alpha+\")\",this._ctx.stroke()}}])&&_(i.prototype,e),s&&_(i,s),t}();function c(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var l=function(){function t(i){var e,s=this;!function(t,i){if(!(t instanceof i))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._boundaries={top:50,bottom:0,left:50,right:0},this._sound={enable:!1,list:[\"explosion0.mp3\",\"explosion1.mp3\",\"explosion2.mp3\"],min:4,max:8},this._tick=0,this._version=\"1.0.4\",this._running=!1,this._fireworks=[],this._particles=[],this._target=i.target,this._canvas=document.createElement(\"canvas\"),this._ctx=this._canvas.getContext(\"2d\"),this.updateSize(),this._target.appendChild(this._canvas),this._hue=i.hue||120,this._startDelay=i.startDelay||30,this._minDelay=i.minDelay||30,this._maxDelay=i.maxDelay||90,this._speed=i.speed||2,this._acceleration=i.acceleration||1.05,this._friction=i.friction||.95,this._gravity=i.gravity||1.5,this._particleCount=i.particles||50,this._traceLength=i.trace||3,this._explosionLength=i.explosion||5,this._autoresize=null===(e=i.autoresize)||void 0===e||e,this._boundaries=Object.assign(Object.assign({},this._boundaries),i.boundaries),this._sound=Object.assign(Object.assign({},this._sound),i.sound),this._autoresize&&window.addEventListener(\"resize\",(function(){s.updateSize()}))}var i,e,n;return i=t,(e=[{key:\"start\",value:function(){this._running||(this._running=!0,this.clear(),this.render())}},{key:\"stop\",value:function(){this._running=!1,this.clear()}},{key:\"pause\",value:function(){this._running=!this._running,this._running&&this.render()}},{key:\"clear\",value:function(){this._ctx&&(this._fireworks=[],this._particles=[],this._ctx.clearRect(0,0,this._width,this._height))}},{key:\"updateSize\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.width,e=void 0===i?this._target.clientWidth:i,s=t.height,n=void 0===s?this._target.clientHeight:s;this._width=e,this._height=n,this._canvas.width=e,this._canvas.height=n,this.updateBoundaries({right:e,bottom:n})}},{key:\"updateBoundaries\",value:function(t){this._boundaries=Object.assign(Object.assign({},this._boundaries),t)}},{key:\"render\",value:function(){var t=this;if(this._ctx&&this._running){var i;for(s((function(){return t.render()})),this._hue+=.5,this._ctx.globalCompositeOperation=\"destination-out\",this._ctx.fillStyle=\"rgba(0, 0, 0, 0.5)\",this._ctx.fillRect(0,0,this._width,this._height),this._ctx.globalCompositeOperation=\"lighter\",i=this._fireworks.length;i--;)this._fireworks[i].draw(),this._fireworks[i].update((function(e,s,n){var o=t._particleCount;if(t._sound.enable&&t._sound.list.length>0){var a=r(0,t._sound.list.length-1),_=h(t._sound.min/10,t._sound.max/10),c=new Audio(t._sound.list[a]);c.volume=_,c.play()}for(;o--;)t._particles.push(new u(e,s,t._ctx,n,t._friction,t._gravity,t._explosionLength));t._fireworks.splice(i,1)}));for(i=this._particles.length;i--;)this._particles[i].draw(),this._particles[i].update((function(){t._particles.splice(i,1)}));this._tick>2*this._startDelay&&(this._fireworks.push(new a(.5*this._width,this._height,r(this._boundaries.left,this._boundaries.right-50),r(this._boundaries.top,.5*this._boundaries.bottom),this._ctx,this._hue,this._speed,this._acceleration,this._traceLength)),this._startDelay=r(this._minDelay,this._maxDelay),this._tick=0),this._hue>345&&(this._hue=0),this._tick++}}},{key:\"isRunning\",get:function(){return this._running}}])&&c(i.prototype,e),n&&c(i,n),t}()}])}));\n\n//# sourceURL=webpack://minesweeper/./node_modules/fireworks-js/dist/fireworks.js?");

/***/ }),

/***/ "./src/js/block/controller.js":
/*!************************************!*\
  !*** ./src/js/block/controller.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Block\": () => (/* binding */ Block)\n/* harmony export */ });\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model.js */ \"./src/js/block/model.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view.js */ \"./src/js/block/view.js\");\n\r\n\r\n\r\nclass Block {\r\n    constructor(parent, posX, posY) {\r\n        this.model = new _model_js__WEBPACK_IMPORTED_MODULE_0__.BlockModel(posX, posY);\r\n        this.view = new _view_js__WEBPACK_IMPORTED_MODULE_1__.BlockView(parent, this.model);\r\n    }\r\n\r\n    open(openedByPlayer) {\r\n        if (this.model.opened) return;\r\n        \r\n        this.model.open();\r\n        this.view.open(openedByPlayer);\r\n    }\r\n\r\n    draw(blockSize) {\r\n        this.view.draw(blockSize);\r\n    }\r\n\r\n    placeMine() {\r\n        this.model.placeMine();\r\n    }\r\n\r\n    mark() {\r\n        this.view.mark();\r\n        this.model.mark();\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/block/controller.js?");

/***/ }),

/***/ "./src/js/block/model.js":
/*!*******************************!*\
  !*** ./src/js/block/model.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BlockModel\": () => (/* binding */ BlockModel)\n/* harmony export */ });\nclass BlockModel {\r\n    constructor (posX, posY) {\r\n        this.opened = false;\r\n        this.marked = false;\r\n        this.x = posX;\r\n        this.y = posY;\r\n    }\r\n\r\n    placeMine() {\r\n        this.hasMine = true;\r\n    }\r\n\r\n    open() {\r\n        this.opened = true;\r\n    }\r\n\r\n    mark() {\r\n        if (this.marked)\r\n            this.marked = false;\r\n        else\r\n            this.marked = true;\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/block/model.js?");

/***/ }),

/***/ "./src/js/block/view.js":
/*!******************************!*\
  !*** ./src/js/block/view.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BlockView\": () => (/* binding */ BlockView)\n/* harmony export */ });\n/* harmony import */ var _game_controller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/controller.js */ \"./src/js/game/controller.js\");\n\r\n\r\nclass BlockView {\r\n    constructor(parent, model)\r\n    {\r\n        this.parent = parent;\r\n        this.container = null;\r\n        this.model = model;\r\n    }\r\n\r\n    draw(blockSize)\r\n    {\r\n        this.container = document.createElement('div');\r\n\r\n        // assigning block left and right click events\r\n        Object.assign(this.container, {\r\n            className: 'block ' + blockSize,\r\n            onclick: () => {\r\n                _game_controller_js__WEBPACK_IMPORTED_MODULE_0__.GameController.getInstance().then((c) => c.openBlock(this.model.x, this.model.y, true));\r\n            },\r\n            oncontextmenu: (ev) => {\r\n                ev.preventDefault();\r\n                if (!this.model.opened)\r\n                    _game_controller_js__WEBPACK_IMPORTED_MODULE_0__.GameController.getInstance().then((c) => c.markBlock(this.model.x, this.model.y, this.model.marked));\r\n        }});\r\n        this.parent.appendChild(this.container);\r\n    }\r\n    \r\n    open(openedByPlayer)\r\n    {\r\n        _game_controller_js__WEBPACK_IMPORTED_MODULE_0__.GameController.getInstance().then((controller) => {\r\n            // checking if the game has started\r\n            if (controller.gameState() == 'none')\r\n            {\r\n                controller.startGame({\r\n                    x: this.model.x,\r\n                    y: this.model.y\r\n                });\r\n            }\r\n\r\n            // checking if the block has a mine\r\n            if (this.model.hasMine)\r\n            {\r\n                this.container.innerHTML = '💣';\r\n                this.container.classList.add('openedRed');      // change block color\r\n                \r\n                // blinking animation on the opened mine\r\n                if (openedByPlayer)\r\n                {\r\n                    this.container.classList.remove('openedRed');\r\n                    this.container.classList.add('openedMine');\r\n                }\r\n\r\n                // game over\r\n                if (controller.gameState() != 'over')\r\n                    controller.gameOver('failure');\r\n            }\r\n            else\r\n            {\r\n                this.container.classList.add('openedGreen');    // change block color\r\n                const numOfMines = controller.countSurroundingMines(this.model.x, this.model.y);\r\n\r\n                if (numOfMines != 0)\r\n                    this.container.innerHTML = numOfMines;\r\n            }\r\n\r\n            // checking if the game is over\r\n            if (controller.isTheGameOver() && controller.gameState() != 'over')\r\n                controller.gameOver('success');\r\n        });\r\n    }\r\n\r\n    mark()\r\n    {\r\n        if (this.model.opened) return;\r\n\r\n        if (this.model.marked)\r\n            this.container.innerHTML = '';\r\n        else\r\n            this.container.innerHTML = '🚩';\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/block/view.js?");

/***/ }),

/***/ "./src/js/game/controller.js":
/*!***********************************!*\
  !*** ./src/js/game/controller.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameController\": () => (/* binding */ GameController)\n/* harmony export */ });\n/* harmony import */ var _menu_view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu/view.js */ \"./src/js/menu/view.js\");\n/* harmony import */ var _menu_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu/controller.js */ \"./src/js/menu/controller.js\");\n/* harmony import */ var _table_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../table/controller.js */ \"./src/js/table/controller.js\");\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./model.js */ \"./src/js/game/model.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./view.js */ \"./src/js/game/view.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n// singleton game controller\r\nconst GameController = (() => {\r\n    let instance, table, menu;\r\n\r\n    async function createInstance(optionsURL, edgeValuesURL, difficultiesURL)\r\n    {\r\n        // fetch config from URL parameters\r\n        let config = {};\r\n        await fetchOptions(config, optionsURL, edgeValuesURL, difficultiesURL);\r\n\r\n        // initialize game model and view\r\n        let model = new _model_js__WEBPACK_IMPORTED_MODULE_3__.GameModel();\r\n        let view = new _view_js__WEBPACK_IMPORTED_MODULE_4__.GameView(document.body);\r\n\r\n        // return game controller instance\r\n        return {\r\n            config: config,\r\n            gameState: () => { return model.state },\r\n            displayStartMenu: function displayStartMenu()\r\n            {\r\n                view.drawFrontPage();\r\n            },\r\n            initializeGame: function initializeGame()\r\n            {\r\n                table = new _table_controller_js__WEBPACK_IMPORTED_MODULE_2__.Table(view.container, config.options.width, config.options.height);\r\n                table.draw(config.edgeValues.blockSizes);\r\n\r\n                menu = new _menu_controller_js__WEBPACK_IMPORTED_MODULE_1__.Menu(view.container, config);\r\n                menu.startStopwatch();\r\n\r\n                view.prepareFireworks();\r\n            },\r\n            startGame: function startGame(startingBlockPos)\r\n            {\r\n                table.startGame(startingBlockPos, config.options.numOfMines);\r\n                model.startGame();\r\n            },\r\n            openBlock: function openBlock(posX, posY, openedByPlayer)\r\n            {\r\n                table.openBlock(posX, posY, openedByPlayer);\r\n            },\r\n            openAllBlocks: function openAllBlocks()\r\n            {\r\n                table.openAll();\r\n            },\r\n            countSurroundingMines: function countSurroundingMines(posX, posY)\r\n            {\r\n                return table.countSurroundingMines(posX, posY);\r\n            },\r\n            markBlock: function markBlock(posX, posY, alreadyMarked)\r\n            {\r\n                table.markBlock(posX, posY);\r\n\r\n                // update 'mines left' label\r\n                const label = document.getElementById('labelMinesLeft');\r\n                label.minesLeft = (alreadyMarked) ? (label.minesLeft + 1) : (label.minesLeft - 1);\r\n                label.innerHTML = `| ${(label.minesLeft >= 0) ? label.minesLeft : 0} mines left`;\r\n            },\r\n            isTheGameOver: function isTheGameOver()\r\n            {\r\n                return table.isTheGameOver(config.options.numOfMines);\r\n            },\r\n            gameOver: function gameOver(result) {\r\n                model.gameOver();\r\n                view.gameOver(result);\r\n                table.openAll();\r\n                menu.stopStopwatch();\r\n                menu.showMenu();\r\n                \r\n                // update 'mines left' label\r\n                document.getElementById('labelMinesLeft').innerHTML = `| 0 mines left`;\r\n            },\r\n            setOptions: function setOptions(currentOptions)\r\n            {\r\n                if (currentOptions === null)\r\n                    return;\r\n                    \r\n                config.options = currentOptions;\r\n            },\r\n            restartGame: function restartGame(currentOptions, callback) {\r\n                // apply selected options\r\n                this.setOptions(currentOptions);\r\n\r\n                // remove view elements for current game\r\n                table.view.container.remove();\r\n                menu.view.container.remove();\r\n                view.stopFireworks();\r\n\r\n                // initialize new game\r\n                model = new _model_js__WEBPACK_IMPORTED_MODULE_3__.GameModel();\r\n                callback();\r\n            },\r\n            displaySettings: function displaySettings(container)\r\n            {\r\n                (0,_menu_view_js__WEBPACK_IMPORTED_MODULE_0__.drawSettings)(config, container);\r\n            }\r\n        };\r\n    }\r\n\r\n    async function fetchOptions(config, optionsURL, edgeValuesURL, difficultiesURL)\r\n    {\r\n        await Promise.all([\r\n            fetch(optionsURL).then(response => response.json()),\r\n            fetch(edgeValuesURL).then(response => response.json()),\r\n            fetch(difficultiesURL).then(response => response.json())\r\n        ]).then((configObjects) => {\r\n            const deviceSizeIndex = getDeviceSize();\r\n            configObjects.map(object => config[object.name] = object.values[deviceSizeIndex]);\r\n        });\r\n    }\r\n\r\n    function getDeviceSize()\r\n    {\r\n        if (window.innerWidth < 480)  // mobile\r\n            return 3;\r\n        else if (window.innerWidth >= 768 && window.innerWidth < 1024)  // tablet\r\n            return 2;\r\n        else if (window.innerWidth >= 1024 && window.innerWidth < 1300)   // laptop\r\n            return 1;\r\n        else if (window.innerWidth >= 1300)   // desktop\r\n            return 0;\r\n    }\r\n\r\n    return {\r\n        getInstance: async (optionsURL, edgeValuesURL, difficultiesURL) => {\r\n            if (!instance)\r\n                instance = await createInstance(optionsURL, edgeValuesURL, difficultiesURL);\r\n            return instance;\r\n        }\r\n    };\r\n})();\n\n//# sourceURL=webpack://minesweeper/./src/js/game/controller.js?");

/***/ }),

/***/ "./src/js/game/model.js":
/*!******************************!*\
  !*** ./src/js/game/model.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameModel\": () => (/* binding */ GameModel)\n/* harmony export */ });\nclass GameModel {\r\n    constructor()\r\n    {\r\n        this.state = 'none';\r\n    }\r\n\r\n    startGame() {\r\n        this.state = 'ongoing';\r\n    }\r\n\r\n    gameOver() {\r\n        this.state = 'over';\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/game/model.js?");

/***/ }),

/***/ "./src/js/game/view.js":
/*!*****************************!*\
  !*** ./src/js/game/view.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameView\": () => (/* binding */ GameView)\n/* harmony export */ });\n/* harmony import */ var fireworks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fireworks-js */ \"./node_modules/fireworks-js/dist/fireworks.js\");\n/* harmony import */ var fireworks_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fireworks_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controller.js */ \"./src/js/game/controller.js\");\n/* harmony import */ var _menu_view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../menu/view.js */ \"./src/js/menu/view.js\");\n\r\n\r\n\r\n\r\nclass GameView {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n        this.container = document.createElement('div');\r\n        this.container.className = 'gameContainer';\r\n        parent.appendChild(this.container);\r\n    }\r\n\r\n    gameOver(result) {\r\n        const label = document.createElement('h1');\r\n        if (result === 'success')\r\n        {\r\n            this.fireworks.start();\r\n            label.innerHTML = 'You win!';\r\n            label.className = 'animationYouWin label';\r\n        }\r\n        else if (result === 'failure')\r\n        {\r\n            label.innerHTML = 'You lose!';\r\n            label.className = 'animationGameOver label';\r\n        }\r\n        label.id = 'youWin';\r\n        this.container.querySelector('.gameGrid').appendChild(label);\r\n    }\r\n\r\n    prepareFireworks()\r\n    {\r\n        if (this.fireworks !== undefined)\r\n            return;\r\n\r\n        this.fireworks = new fireworks_js__WEBPACK_IMPORTED_MODULE_0__.Fireworks({\r\n            target: this.container,\r\n            hue: 120,\r\n            startDelay: 1,\r\n            minDelay: 20,\r\n            maxDelay: 30,\r\n            speed: 5,\r\n            acceleration: 1.15,\r\n            friction: 0.88,\r\n            gravity: 1,\r\n            particles: 65,\r\n            trace: 3,\r\n            explosion: 6,\r\n            boundaries: {\r\n              top: 50,\r\n              bottom: this.container.clientHeight,\r\n              left: 50,\r\n              right: this.container.clientWidth\r\n            },\r\n            sound: {\r\n              enable: false }\r\n        });\r\n    }\r\n\r\n    stopFireworks()\r\n    {\r\n        this.fireworks.stop();\r\n    }\r\n\r\n    drawFrontPage()\r\n    {\r\n        this.drawStartMenu();\r\n        \r\n        if (!document.getElementById('footer'))\r\n            this.drawFooter();\r\n    }\r\n\r\n    drawStartMenu()\r\n    {\r\n        const startMenu = document.createElement('div');\r\n        startMenu.className = 'animationFadeInDown';\r\n        startMenu.id = 'startMenuContainer';\r\n\r\n        const iconBomb = document.createElement('img');\r\n        iconBomb.src = '../../../res/images/icons/bomb.svg';\r\n        iconBomb.id = 'iconBomb';\r\n        startMenu.appendChild(iconBomb);\r\n\r\n        const gameTitle = document.createElement('h1');\r\n        gameTitle.innerHTML = 'minesweeper';\r\n        gameTitle.className = 'label gameTitle';\r\n        startMenu.appendChild(gameTitle);\r\n\r\n        const btnStartGame = document.createElement('button');\r\n        btnStartGame.id = 'btnPlay';\r\n        btnStartGame.className = 'buttonBlue';\r\n        btnStartGame.innerHTML = 'Play';\r\n        btnStartGame.onclick = () => { _controller_js__WEBPACK_IMPORTED_MODULE_1__.GameController.getInstance().then((gc) => {\r\n            \r\n            // remove start menu\r\n            this.container.removeChild(startMenu);\r\n            const rulesContainer = document.querySelector('.collapseRules');\r\n            if (rulesContainer) rulesContainer.remove();\r\n\r\n            // start game            \r\n            gc.initializeGame();\r\n\r\n        })}\r\n        startMenu.appendChild(btnStartGame);\r\n\r\n        const btnGroup = document.createElement('div');\r\n        btnGroup.className = 'button-group';\r\n        btnGroup.id = 'btnGroupRules';\r\n        \r\n        const btnRules = document.createElement('button');\r\n        btnRules.id = 'btnRules';\r\n        btnRules.innerHTML = 'Rules';\r\n        btnRules.onclick = () => {\r\n            // hide options container\r\n            if (settingsContainer != null && settingsContainer.className.includes('show'))\r\n                settingsContainer.classList.toggle('show');\r\n\r\n            if (!document.querySelector('.collapseRules'))\r\n                this.drawRules();\r\n            \r\n            // janky solution mate (doesn't work without delay)\r\n            setTimeout(() => {\r\n                document.querySelector('.collapseRules').classList.toggle('show');\r\n            }, 10);\r\n        };\r\n        btnGroup.appendChild(btnRules);\r\n\r\n        const btnOptions = document.createElement('button');\r\n        btnOptions.id = 'btnOptions';\r\n        btnOptions.innerHTML = '<i class=\"fas fa-cog fa-lg\" id=\"iconOptions\"></i>';\r\n        btnOptions.onclick = () => {\r\n            // hide rules container\r\n            const rulesContainer = document.querySelector('.collapseRules');\r\n            if (rulesContainer != null && rulesContainer.className.includes('show'))\r\n                rulesContainer.classList.toggle('show');\r\n                \r\n            // toggle options container\r\n            settingsContainer.classList.toggle('show');\r\n        };\r\n        btnGroup.appendChild(btnOptions);\r\n        startMenu.appendChild(btnGroup);\r\n\r\n        // draw settings container\r\n        const settingsContainer = document.createElement('div');\r\n        settingsContainer.className = 'settingsContainer';\r\n        settingsContainer.id = 'startMenuSettingsContainer';\r\n        startMenu.appendChild(settingsContainer);\r\n        _controller_js__WEBPACK_IMPORTED_MODULE_1__.GameController.getInstance().then((gc) => {\r\n            gc.displaySettings(settingsContainer);\r\n        \r\n            // draw save button\r\n            const btnContainer = document.createElement('div');\r\n            btnContainer.id = 'btnSaveContainer';\r\n            const btnSave = document.createElement('button');\r\n            btnSave.className = 'buttonBlue';\r\n            btnSave.innerHTML = 'Save';\r\n            btnSave.onclick = () => {\r\n                // apply selected options\r\n                _controller_js__WEBPACK_IMPORTED_MODULE_1__.GameController.getInstance().then((gc) => gc.setOptions((0,_menu_view_js__WEBPACK_IMPORTED_MODULE_2__.getSelectedOptions)()));\r\n\r\n                // toggle options container\r\n                settingsContainer.classList.toggle('show');\r\n            };\r\n            btnContainer.appendChild(btnSave);\r\n            settingsContainer.appendChild(btnContainer);\r\n        });\r\n\r\n        this.container.appendChild(startMenu);\r\n    }\r\n\r\n    drawRules()\r\n    {\r\n        const rules = [\r\n            ['Click on a block to open it.',\r\n                'The first block you click will NEVER be a mine.'],\r\n            ['The block can either:',\r\n                'Be empty,',\r\n                'Not have a mine, but have blocks around it with mines,',\r\n                'Have a mine.'],\r\n            ['Clicking on an empty block opens it and opens all surrounding blocks.',\r\n                'Surrounding blocks are blocks that touch a block, including diagonals.'],\r\n            ['Clicking on a block that doesn\\'t have a mine opens it and displays a number of mines in blocks around it.'],\r\n            ['Clicking a block with a mine means GAME OVER.'],\r\n            ['Right-click a block to mark it if you believe that it has a mine.'],\r\n            ['When you open all empty blocks, YOU WIN.']\r\n        ];\r\n\r\n        const card = document.createElement('div');\r\n        card.className = 'collapseRules';\r\n\r\n        let list = document.createElement('ul');\r\n        for (let i=0; i<rules.length; i++)\r\n        {\r\n            const listItem = document.createElement('li');\r\n            listItem.innerHTML = rules[i][0];\r\n\r\n            if (rules[i].length > 1)\r\n            {\r\n                const subList = document.createElement('ul');\r\n                for (let j=1; j<rules[i].length; j++)\r\n                {\r\n                    const subListItem = document.createElement('li');\r\n                    subListItem.innerHTML = rules[i][j];\r\n                    subList.appendChild(subListItem);\r\n                }\r\n                listItem.appendChild(subList);\r\n            }\r\n            \r\n            list.appendChild(listItem);\r\n        }\r\n\r\n        card.appendChild(list);\r\n        this.container.appendChild(card);\r\n    }\r\n\r\n    drawFooter()\r\n    {\r\n        const footer = document.createElement('div');\r\n        footer.className = 'footer';\r\n        footer.id = 'footer';\r\n\r\n        const footerItems = [\r\n        {\r\n            className: 'fab fa-github fa-2x',\r\n            id: 'iconGithub',\r\n            tooltipName: 'GitHub',\r\n            link: 'https://github.com/DoubleDebug/minesweeper'\r\n        },\r\n        {\r\n            className: 'fab fa-youtube fa-2x',\r\n            id: 'iconYoutube',\r\n            tooltipName: 'YouTube',\r\n            link: 'https://www.youtube.com/c/DoubleDYouTube'\r\n        },\r\n        {\r\n            className: 'fab fa-itch-io fa-2x',\r\n            id: 'iconItchio',\r\n            tooltipName: 'Itch.io',\r\n            link: 'https://notdoubled.itch.io'\r\n        }];\r\n        \r\n        footerItems.forEach((itemProps) => {\r\n            const item = this.createFooterItem(itemProps);\r\n            footer.appendChild(item);\r\n        });\r\n\r\n        this.container.appendChild(footer);\r\n    }\r\n\r\n    createFooterItem(itemProps)\r\n    {\r\n        const icon = document.createElement('i');\r\n        icon.className = itemProps.className + ' icon';\r\n        icon.id = itemProps.id;\r\n        icon.onmouseenter = () => {\r\n            const tooltip = this.createTooltip(itemProps.tooltipName);\r\n            icon.appendChild(tooltip);\r\n        };\r\n        icon.onmouseleave = () => {\r\n            icon.removeChild(icon.querySelector('.tooltip'));\r\n        };\r\n        icon.onclick = () => {\r\n            window.open(itemProps.link);\r\n        };\r\n        return icon;\r\n    }\r\n\r\n    createTooltip(text)\r\n    {\r\n        const tooltip = document.createElement('div');\r\n        tooltip.className = 'tooltip';\r\n\r\n        const tooltipArrow = document.createElement('div');\r\n        tooltipArrow.className = 'tooltipArrow';\r\n        tooltip.appendChild(tooltipArrow);\r\n\r\n        const label = document.createElement('label');\r\n        label.innerHTML = text;\r\n        tooltip.appendChild(label);\r\n\r\n        return tooltip;\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/game/view.js?");

/***/ }),

/***/ "./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game_controller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game/controller.js */ \"./src/js/game/controller.js\");\n\r\n\r\n// config URLs\r\nconst optionsURL = \"../../res/config/options.json\";\r\nconst edgeValuesURL = \"../../res/config/edgeValues.json\";\r\nconst difficultiesURL = \"../../res/config/difficulties.json\";\r\n\r\n// display game start menu\r\n_game_controller_js__WEBPACK_IMPORTED_MODULE_0__.GameController.getInstance(optionsURL, edgeValuesURL, difficultiesURL).then((controller) => {\r\n    controller.displayStartMenu();\r\n});\n\n//# sourceURL=webpack://minesweeper/./src/js/main.js?");

/***/ }),

/***/ "./src/js/menu/controller.js":
/*!***********************************!*\
  !*** ./src/js/menu/controller.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Menu\": () => (/* binding */ Menu)\n/* harmony export */ });\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model.js */ \"./src/js/menu/model.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view.js */ \"./src/js/menu/view.js\");\n\r\n\r\n\r\nclass Menu {\r\n    constructor(parent, config) {\r\n        this.model = new _model_js__WEBPACK_IMPORTED_MODULE_0__.MenuModel();\r\n        this.view = new _view_js__WEBPACK_IMPORTED_MODULE_1__.MenuView(parent, this.model, config);\r\n    }\r\n\r\n    drawSettings(config, container)\r\n    {\r\n        this.view.drawSettings(config, container);\r\n    }\r\n\r\n    startStopwatch()\r\n    {\r\n        setTimeout(() => {\r\n            this.model.increaseTime();\r\n            this.view.increaseTime();\r\n            if (!this.model.gameOver)\r\n                this.startStopwatch();\r\n        }, 1000);\r\n    }\r\n\r\n    stopStopwatch()\r\n    {\r\n        // the game is over\r\n        this.model.gameOver = true;\r\n    }\r\n\r\n    showMenu()\r\n    {        \r\n        // show settings\r\n        if (!document.getElementsByClassName('settingsContainer')[0].classList.contains('show'))\r\n            document.getElementById('iconSettings').contentDocument.querySelector('svg').onmouseup();\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/menu/controller.js?");

/***/ }),

/***/ "./src/js/menu/model.js":
/*!******************************!*\
  !*** ./src/js/menu/model.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuModel\": () => (/* binding */ MenuModel),\n/* harmony export */   \"calculateMaxMines\": () => (/* binding */ calculateMaxMines)\n/* harmony export */ });\nclass MenuModel {\r\n    constructor()\r\n    {\r\n        this.timePassed = 0;    // in seconds\r\n    }\r\n\r\n    increaseTime()\r\n    {\r\n        this.timePassed++;\r\n    }\r\n}\r\n\r\nfunction calculateMaxMines(width, height)\r\n{\r\n    return Math.floor((width * height) / 2) - 1;\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/menu/model.js?");

/***/ }),

/***/ "./src/js/menu/view.js":
/*!*****************************!*\
  !*** ./src/js/menu/view.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuView\": () => (/* binding */ MenuView),\n/* harmony export */   \"drawSettings\": () => (/* binding */ drawSettings),\n/* harmony export */   \"getSelectedOptions\": () => (/* binding */ getSelectedOptions)\n/* harmony export */ });\n/* harmony import */ var _game_controller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/controller.js */ \"./src/js/game/controller.js\");\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model.js */ \"./src/js/menu/model.js\");\n\r\n\r\n\r\nclass MenuView {\r\n    constructor(parent, model, config)\r\n    {\r\n        const settingsWidth =  document.querySelector('.gameGrid').clientWidth + 'px';\r\n\r\n        this.container = document.createElement('div');\r\n        this.container.className = 'menu animationFadeInDown';\r\n        this.container.style.width = this.container.style.maxWidth = settingsWidth;\r\n        this.parent = parent;\r\n        this.model = model;\r\n\r\n        this.draw(config.options.numOfMines);\r\n\r\n        // draw settings\r\n        this.settingsContainer = document.createElement('div');\r\n        this.settingsContainer.className = 'settingsContainer';\r\n        this.settingsContainer.style.width = settingsWidth;\r\n        this.container.appendChild(this.settingsContainer);\r\n\r\n        // draw settings (except for mobile)\r\n        if (window.innerWidth > 480) {\r\n            drawSettings(config, this.settingsContainer);\r\n        }\r\n        else {\r\n            this.settingsContainer.classList.add('short');\r\n        }\r\n\r\n        // draw new game menu\r\n        drawNewGameMenu(this.settingsContainer);\r\n    }\r\n\r\n    draw(numOfMines)\r\n    {\r\n        this.timeLabel = document.createElement('label');\r\n        this.timeLabel.id = 'labelTime';\r\n        this.timeLabel.innerHTML = '00:00';\r\n        this.container.appendChild(this.timeLabel);\r\n\r\n        const labelMinesLeft = document.createElement('label');\r\n        labelMinesLeft.minesLeft = numOfMines;\r\n        labelMinesLeft.id = 'labelMinesLeft';\r\n        labelMinesLeft.innerHTML = `| ${numOfMines} mines left`;\r\n        this.container.appendChild(labelMinesLeft);\r\n\r\n        const iconSettingsObject = document.createElement('object');\r\n        iconSettingsObject.data = '../../../res/images/icons/cog.svg';\r\n        iconSettingsObject.type = 'image/svg+xml';\r\n        iconSettingsObject.id = 'iconSettings';\r\n        iconSettingsObject.addEventListener('load', () => {\r\n            // defining the style of the settings icon\r\n            const svg = iconSettingsObject.contentDocument.querySelector('svg');\r\n            const path = iconSettingsObject.contentDocument.querySelector('path');\r\n            svg.style.cursor = 'pointer';\r\n            svg.onmouseover = () => path.style.fill = '#d5e0e9';\r\n            svg.onmousedown = () => path.style.fill = '#adcfe7';\r\n            svg.onmouseleave = () => path.style.fill = 'white';\r\n            svg.onmouseup = () => {\r\n                // svg style\r\n                path.style.fill = '#d5e0e9';\r\n                svg.style.transition = 'ease 0.5s';\r\n                if (path.classList.contains('toggled'))\r\n                    svg.style.transform = 'rotate(-90deg';\r\n                else\r\n                    svg.style.transform = 'rotate(90deg)';\r\n                path.classList.toggle('toggled');\r\n\r\n                // show settings\r\n                this.settingsContainer.classList.toggle('show');\r\n        }});\r\n        this.container.appendChild(iconSettingsObject);\r\n\r\n        this.parent.appendChild(this.container);\r\n    }\r\n\r\n    increaseTime()\r\n    {\r\n        const seconds = Math.floor(this.model.timePassed % 60);\r\n        const minutes = Math.floor(this.model.timePassed / 60);\r\n\r\n        const secondsFormatted = seconds.toString().padStart(2, '0');\r\n        const minutesFormatted = minutes.toString().padStart(2, '0');\r\n\r\n        this.timeLabel.innerHTML = `${minutesFormatted}:${secondsFormatted}`;\r\n    }\r\n}\r\n\r\n\r\nfunction drawSettings(config, myContainer)\r\n{        \r\n    // draw difficulty group\r\n    drawDifficultyButtonGroup(config.difficulties, config.options.difficulty, myContainer);\r\n\r\n    // draw game options (board width/height/mines)\r\n    drawConfigurationUI(config.edgeValues, config.options, myContainer);\r\n}\r\n\r\nfunction drawDifficultyButtonGroup(difficulties, currentDifficulty, myContainer)\r\n{\r\n    const lblDifficulty = document.createElement('label');\r\n    lblDifficulty.innerHTML = 'Difficulty:';\r\n    lblDifficulty.className = 'labelSettings';\r\n    myContainer.appendChild(lblDifficulty);\r\n\r\n    const activateButton = (btn) => {\r\n        btnGroup.childNodes.forEach(btn => btn.className = '');\r\n        btn.className = 'active';\r\n    };\r\n\r\n    const loadDifficultySettings = (diff) => {\r\n        const inputMines = document.querySelector('#inputMines');\r\n        const inputWidth = document.querySelector('#inputWidth');\r\n        const inputHeight = document.querySelector('#inputHeight');\r\n        if (diff === 'custom')\r\n        {\r\n            inputWidth.disabled = false;\r\n            inputHeight.disabled = false;\r\n            inputMines.disabled = false;\r\n        }\r\n        else\r\n        {\r\n            inputWidth.value = difficulties[diff].width;\r\n            inputHeight.value = difficulties[diff].height;\r\n            inputMines.value = difficulties[diff].numOfMines;\r\n            \r\n            inputWidth.disabled = true;\r\n            inputHeight.disabled = true;\r\n            inputMines.disabled = true;\r\n        }\r\n\r\n        inputMines.max = (0,_model_js__WEBPACK_IMPORTED_MODULE_1__.calculateMaxMines)(inputWidth.value, inputHeight.value);\r\n        inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n    };\r\n\r\n    const btnGroup = document.createElement('div');\r\n    btnGroup.className = 'button-group';\r\n    btnGroup.id = 'btnGroupDifficulty';\r\n\r\n    const btnEasy = document.createElement('button');\r\n    if (currentDifficulty === 'easy')\r\n        btnEasy.className = 'active';\r\n    btnEasy.id = 'btnEasy';\r\n    btnEasy.innerHTML = 'Easy';\r\n    btnEasy.onclick = () => {\r\n        activateButton(btnEasy);\r\n        loadDifficultySettings('easy');            \r\n    };\r\n    btnGroup.appendChild(btnEasy);\r\n    \r\n    const btnMedium = document.createElement('button');\r\n    if (currentDifficulty === 'medium')\r\n        btnMedium.className = 'active';\r\n    btnMedium.id = 'btnMedium';\r\n    btnMedium.innerHTML = 'Medium';\r\n    btnMedium.onclick = () => {\r\n        activateButton(btnMedium);\r\n        loadDifficultySettings('medium');   \r\n    };\r\n    btnGroup.appendChild(btnMedium);\r\n    \r\n    const btnHard = document.createElement('button');\r\n    if (currentDifficulty === 'hard')\r\n        btnHard.className = 'active';\r\n    btnHard.id = 'btnHard';\r\n    btnHard.innerHTML = 'Hard';\r\n    btnHard.onclick = () => {\r\n        activateButton(btnHard);\r\n        loadDifficultySettings('hard');\r\n    };\r\n    btnGroup.appendChild(btnHard);\r\n    \r\n    const btnCustom = document.createElement('button');\r\n    if (currentDifficulty === 'custom')\r\n        btnCustom.className = 'active';\r\n    btnCustom.id = 'btnCustom';\r\n    btnCustom.title = 'Custom';\r\n    btnCustom.innerHTML = '<i class=\"far fa-edit\"></i>';\r\n    btnCustom.onclick = () => {\r\n        activateButton(btnCustom);\r\n        loadDifficultySettings('custom');\r\n    };\r\n    btnGroup.appendChild(btnCustom);\r\n    myContainer.appendChild(btnGroup);\r\n}\r\n\r\nfunction drawConfigurationUI(edgeValues, options, myContainer)\r\n{\r\n    const configContainer = document.createElement('div');\r\n    configContainer.className = 'configContainer';\r\n\r\n    // row 1 - board size\r\n    const row1 = document.createElement('div');\r\n    row1.id = 'configRow1';\r\n    row1.className = 'configContainerRow';\r\n\r\n    const lblSize = document.createElement('label');\r\n    lblSize.innerHTML = 'Board size:';\r\n    lblSize.className = 'labelSettings';\r\n    row1.appendChild(lblSize);\r\n\r\n    const inputWidth = document.createElement('input');\r\n    inputWidth.id = 'inputWidth';\r\n    inputWidth.type = 'number';\r\n    inputWidth.max = edgeValues.width.max;\r\n    inputWidth.min = edgeValues.width.min;\r\n    inputWidth.title = `Range: ${inputWidth.min}-${inputWidth.max}`;\r\n    inputWidth.disabled = (options.difficulty !== 'custom');\r\n    inputWidth.onchange = () => {\r\n        if (Number(inputWidth.value) < edgeValues.width.min)\r\n            inputWidth.value = edgeValues.width.min;\r\n        else if (Number(inputWidth.value) > edgeValues.width.max)\r\n            inputWidth.value = edgeValues.width.max;\r\n\r\n        inputMines.max = (0,_model_js__WEBPACK_IMPORTED_MODULE_1__.calculateMaxMines)(Number(inputWidth.value), Number(inputHeight.value));\r\n        inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n        if (Number(inputMines.value) > Number(inputMines.max)) inputMines.value = inputMines.max;\r\n        inputWidth.title = `Range: ${inputWidth.min}-${inputWidth.max}`;\r\n        inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n    };\r\n    row1.appendChild(inputWidth);\r\n\r\n    const lblTimes = document.createElement('label');\r\n    lblTimes.innerHTML = 'x';\r\n    lblTimes.id = 'labelTimes';\r\n    lblTimes.className = 'labelSettings';\r\n    row1.appendChild(lblTimes);\r\n\r\n    const inputHeight = document.createElement('input');\r\n    inputHeight.id = 'inputHeight';\r\n    inputHeight.type = 'number';\r\n    inputHeight.max = edgeValues.height.max;\r\n    inputHeight.min = edgeValues.height.min;\r\n    inputHeight.title = `Range: ${inputHeight.min}-${inputHeight.max}`;\r\n    inputHeight.disabled = (options.difficulty !== 'custom');\r\n    inputHeight.onchange = () => {\r\n        if (Number(inputHeight.value) < edgeValues.height.min)\r\n            inputHeight.value = edgeValues.height.min;\r\n        else if (Number(inputHeight.value) > edgeValues.height.max)\r\n            inputHeight.value = edgeValues.height.max;\r\n\r\n        inputMines.max = (0,_model_js__WEBPACK_IMPORTED_MODULE_1__.calculateMaxMines)(Number(inputWidth.value), Number(inputHeight.value));\r\n        inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n        if (Number(inputMines.value) > Number(inputMines.max)) inputMines.value = inputMines.max;\r\n        inputHeight.title = `Range: ${inputHeight.min}-${inputHeight.max}`;\r\n        inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n    }\r\n    row1.appendChild(inputHeight);\r\n\r\n    // row 2 - number of mines\r\n    const row2 = document.createElement('div');\r\n    row2.id = 'configRow2';\r\n    row2.className = 'configContainerRow';\r\n\r\n    const lblMines = document.createElement('label');\r\n    lblMines.innerHTML = 'Number of mines:';\r\n    lblMines.className = 'labelSettings';\r\n    row2.appendChild(lblMines);\r\n\r\n    const inputMines = document.createElement('input');\r\n    inputMines.id = 'inputMines';\r\n    inputMines.type = 'number';\r\n    inputMines.disabled = (options.difficulty !== 'custom');\r\n    inputMines.min = edgeValues.numOfMines.min;\r\n    inputMines.onchange = () => {\r\n        inputMines.max = (0,_model_js__WEBPACK_IMPORTED_MODULE_1__.calculateMaxMines)(Number(inputWidth.value), Number(inputHeight.value));\r\n        inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n         \r\n        if (Number(inputMines.value) < edgeValues.numOfMines.min)\r\n            inputMines.value = edgeValues.numOfMines.min;\r\n        else if (Number(inputMines.value) > inputMines.max)\r\n            inputMines.value = inputMines.max;\r\n    }\r\n    row2.appendChild(inputMines);\r\n\r\n    configContainer.appendChild(row1);\r\n    configContainer.appendChild(row2);\r\n\r\n    myContainer.appendChild(configContainer);\r\n\r\n    // load current difficutly values\r\n    inputWidth.value = options.width;\r\n    inputHeight.value = options.height;\r\n    inputMines.value = options.numOfMines;\r\n    inputMines.max = (0,_model_js__WEBPACK_IMPORTED_MODULE_1__.calculateMaxMines)(Number(inputWidth.value), Number(inputHeight.value));\r\n    inputMines.title = `Range: ${inputMines.min}-${inputMines.max}`;\r\n}\r\n\r\nfunction drawNewGameMenu(myContainer)\r\n{\r\n    const btnGroup = document.createElement('div');\r\n    btnGroup.className = 'button-group';\r\n    btnGroup.id = 'btnGroupNewGame';\r\n\r\n    const btnHome = document.createElement('button');\r\n    btnHome.innerHTML = '<i class=\"fas fa-home\"></i>';\r\n    btnHome.id = 'btnHome';\r\n    btnHome.onclick = () => {\r\n        // update selected options and display start menu\r\n        const options = (window.innerWidth > 480) ? getSelectedOptions() : null;    // no options on mobile\r\n        _game_controller_js__WEBPACK_IMPORTED_MODULE_0__.GameController.getInstance().then((c) => c.restartGame(options, c.displayStartMenu));\r\n    }\r\n    btnGroup.appendChild(btnHome);\r\n\r\n    const btnNewGame = document.createElement('button');\r\n    btnNewGame.className = 'buttonBlue';\r\n    btnNewGame.innerHTML = 'New game';\r\n    btnNewGame.onclick = () => {            \r\n        // take selected options and pass them to game controller\r\n        const options = (window.innerWidth > 480) ? getSelectedOptions() : null;    // no options on mobile\r\n        _game_controller_js__WEBPACK_IMPORTED_MODULE_0__.GameController.getInstance().then((c) => c.restartGame(options, c.initializeGame));\r\n    };\r\n    btnGroup.appendChild(btnNewGame);\r\n    myContainer.appendChild(btnGroup);\r\n}\r\n\r\nfunction getSelectedOptions()\r\n{\r\n    const currentOptions = {};\r\n    currentOptions.difficulty = (document.getElementById('btnEasy').className === 'active' ? 'easy' :\r\n                                (document.getElementById('btnMedium').className === 'active' ? 'medium' :\r\n                                (document.getElementById('btnHard').className === 'active' ? 'hard' : 'custom')));            \r\n    currentOptions.width = document.getElementById('inputWidth').value;\r\n    currentOptions.height = document.getElementById('inputHeight').value;\r\n    currentOptions.numOfMines = document.getElementById('inputMines').value;\r\n    return currentOptions;\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/menu/view.js?");

/***/ }),

/***/ "./src/js/table/controller.js":
/*!************************************!*\
  !*** ./src/js/table/controller.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Table\": () => (/* binding */ Table)\n/* harmony export */ });\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model.js */ \"./src/js/table/model.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view.js */ \"./src/js/table/view.js\");\n/* harmony import */ var _block_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../block/controller.js */ \"./src/js/block/controller.js\");\n\r\n\r\n\r\n\r\n\r\nclass Table {\r\n    constructor(parent, width, height)\r\n    {\r\n        this.model = new _model_js__WEBPACK_IMPORTED_MODULE_0__.TableModel(width, height);\r\n        this.view = new _view_js__WEBPACK_IMPORTED_MODULE_1__.TableView(parent, this.model);\r\n\r\n        // initializing blocks\r\n        this.initializeBlocks(width, height);\r\n    }\r\n\r\n    initializeBlocks(width, height)\r\n    {\r\n        for (let i=0; i<height; i++)\r\n        {\r\n            for (let j=0; j<width; j++)\r\n                this.model.blocks[i][j] = new _block_controller_js__WEBPACK_IMPORTED_MODULE_2__.Block(this.view.container, j, i);\r\n        }\r\n    }\r\n\r\n    draw(blockSizes)\r\n    {\r\n        this.view.draw(blockSizes);\r\n    }\r\n\r\n    startGame(startingBlockPos, numOfMines)\r\n    {\r\n        this.model.placeMines(startingBlockPos, numOfMines);\r\n    }\r\n\r\n    openBlock(posX, posY, openedByPlayer)\r\n    {\r\n        this.model.blocks[posY][posX].open(openedByPlayer);\r\n    }\r\n\r\n    openAll()\r\n    {\r\n        this.model.blocks.map(row => row.map(block => block.open()));\r\n    }\r\n\r\n    countSurroundingMines(posX, posY)\r\n    {\r\n        const numOfMines = this.model.countSurroundingMines(posX, posY);\r\n        if (numOfMines == 0)\r\n            this.openSurroundingBlocks(posX, posY);\r\n        return numOfMines;\r\n    }\r\n\r\n    openSurroundingBlocks(posX, posY)\r\n    {\r\n        const blocksToOpen = new Array();\r\n        for (let a = -1; a < 2; a++)\r\n        {\r\n            for (let b = -1; b < 2; b++)\r\n            {\r\n                if (!this.model.outOfBounds(posX + a, posY + b) && !this.model.blocks[posY + b][posX + a].model.opened)\r\n                    blocksToOpen.push({\r\n                        x: posY + b,\r\n                        y: posX + a\r\n                    });\r\n            }\r\n        }\r\n        this.openBlocksWithDelay(blocksToOpen);\r\n    }\r\n\r\n    openBlocksWithDelay(blocks)\r\n    {\r\n        const block = blocks.pop();\r\n        if(block !== undefined)\r\n        {\r\n            this.model.blocks[block.x][block.y].open();\r\n            setTimeout(() => this.openBlocksWithDelay(blocks), 50);\r\n        }\r\n    }\r\n\r\n    markBlock(posX, posY)\r\n    {\r\n        this.model.blocks[posY][posX].mark();\r\n    }\r\n\r\n    isTheGameOver(numOfMines)\r\n    {\r\n        return this.model.isTheGameOver(numOfMines);\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/table/controller.js?");

/***/ }),

/***/ "./src/js/table/model.js":
/*!*******************************!*\
  !*** ./src/js/table/model.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TableModel\": () => (/* binding */ TableModel)\n/* harmony export */ });\nclass TableModel {\r\n    constructor (width, height)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.blocks = new Array(height);\r\n        for (let i=0; i<height; i++)\r\n            this.blocks[i] = new Array(width);\r\n    }\r\n\r\n    placeMines(startingBlockPos, numOfMines)\r\n    {\r\n        this.numOfMines = numOfMines;\r\n\r\n        // removing mines from board\r\n        this.blocks.map(row => row.map(block => block.model.hasMine = false));    \r\n        \r\n        // finding blocks that shouldn't have mines\r\n        // (starting block + his surrounding blocks)\r\n        const forbiddenBlocks = [];\r\n        for (let a = -1; a < 2; a++)\r\n        {\r\n            for (let b = -1; b < 2; b++)\r\n            {\r\n                if (this.outOfBounds(startingBlockPos.x + a, startingBlockPos.y + b))\r\n                    continue;\r\n\r\n                forbiddenBlocks.push([startingBlockPos.x + a, startingBlockPos.y + b]);\r\n            }\r\n        }\r\n\r\n        let minesPlaced = 0;\r\n        while (minesPlaced < numOfMines)\r\n        {\r\n            // calculating random position to place mine\r\n            const x = Math.floor(Math.random() * this.height);\r\n            const y = Math.floor(Math.random() * this.width);\r\n\r\n            // checking if the chosen block already has a mine\r\n            if (this.blocks[x][y].model.hasMine)\r\n                continue;\r\n\r\n            // checking if the chosen block is forbidden\r\n            let contains = false;\r\n            for (let i=0; i<forbiddenBlocks.length; i++)\r\n            {\r\n                if (forbiddenBlocks[i][0] == y && forbiddenBlocks[i][1] == x)\r\n                {\r\n                    contains = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (contains) continue;\r\n\r\n            // placing the mine\r\n            this.blocks[x][y].model.placeMine();\r\n            minesPlaced++;\r\n        }\r\n    }\r\n\r\n    countSurroundingMines(posX, posY)\r\n    {\r\n        if (this.outOfBounds(posX, posY))\r\n            return;\r\n\r\n        let mines = 0;\r\n        for (let a = -1; a < 2; a++)\r\n        {\r\n            for (let b = -1; b < 2; b++)\r\n            {\r\n                if (this.outOfBounds(posX + a, posY + b))\r\n                    continue;\r\n\r\n                if (this.blocks[posY + b][posX + a].model.hasMine)\r\n                    mines++;\r\n            }\r\n        }\r\n\r\n        return mines;\r\n    }\r\n\r\n    outOfBounds(posX, posY)\r\n    {\r\n        if (posX < 0 || posX >= this.width || posY < 0 || posY >= this.height)\r\n            return true;\r\n\r\n        return false;\r\n    }    \r\n\r\n    isTheGameOver(numOfMines)\r\n    {\r\n        const numOfOpenedBlocks = this.blocks.reduce((acc, curr) => {\r\n            return acc += curr.filter(block => block.model.opened).length;\r\n        }, 0);\r\n        \r\n        if (numOfOpenedBlocks == (this.width * this.height - numOfMines))\r\n            return true;\r\n            \r\n        return false;\r\n    }\r\n\r\n    getNumOfMinesLeft()\r\n    {\r\n        const numOfMinesLeft = this.numOfMines - this.getNumOfMarkedBlocks;\r\n        return (numOfMinesLeft > 0) ? numOfMinesLeft : 0;\r\n    }\r\n\r\n    getNumOfMarkedBlocks()\r\n    {\r\n        return this.blocks.reduce((acc, curr) => {\r\n            return acc += curr.filter(block => block.model.marked).length;\r\n        }, 0);\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/table/model.js?");

/***/ }),

/***/ "./src/js/table/view.js":
/*!******************************!*\
  !*** ./src/js/table/view.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TableView\": () => (/* binding */ TableView)\n/* harmony export */ });\nclass TableView {\r\n    constructor(parent, model)\r\n    {\r\n        this.parent = parent;\r\n        this.container = document.createElement('div');\r\n        this.model = model;\r\n    }\r\n\r\n    draw(blockSizes)\r\n    {\r\n        this.container.className = 'gameGrid animationFadeInDown';\r\n        \r\n        this.container.style.gridTemplateRows = `repeat(${this.model.height}, auto)`;\r\n        this.container.style.gridTemplateColumns = `repeat(${this.model.width}, auto)`;\r\n\r\n        this.parent.appendChild(this.container);\r\n\r\n        // scaling the block based on the board size\r\n        var blockSize = '', heightClass, widthClass;\r\n        const priorityList = {\r\n            small: 3,\r\n            normal: 2,\r\n            large: 1\r\n        };\r\n        blockSizes.map(size => {\r\n            if (this.model.height >= size.height.min\r\n                && this.model.height <= size.height.max)\r\n                {\r\n                    heightClass = size.className;\r\n                }\r\n\r\n            if (this.model.width >= size.width.min\r\n                && this.model.width <= size.width.max)\r\n                {\r\n                    widthClass = size.className;\r\n                }                \r\n        });\r\n\r\n        if (priorityList[heightClass] > priorityList[widthClass])\r\n            blockSize = heightClass;\r\n        else\r\n            blockSize = widthClass;\r\n        \r\n        // draw each block\r\n        this.model.blocks.map(row => row.map(block => {\r\n            block.draw(blockSize);\r\n        }));\r\n    }\r\n}\n\n//# sourceURL=webpack://minesweeper/./src/js/table/view.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/main.js");
/******/ 	
/******/ })()
;